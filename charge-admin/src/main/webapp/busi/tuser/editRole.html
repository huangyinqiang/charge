 <#include "/common/head.html"/>


<div class="easyui-panel updatePage"
	data-options="fit:true,border:false">
	<form id="ff" class="easyui-form" method="post">
		<table class="table1">
			<tr>
				<th><span>昵称：</span></th>
				<td>
					<div class="wrap_input">
						<input disabled class="easyui-textbox" type="text" name="nickName"
							id="nickName" value="${model.nickName!''}"
							data-options="fit: true,required:true"></input>
					</div>
				</td>

			</tr>
			<tr>
				<th><span>角色：</span></th>
				<td>
					<div class="wrap_input">
						<!--<input class="easyui-textbox" type="text"-->
							<!--name="walletAccount" id="walletAccount"-->
							<!--value="${model.walletAccount/100!''}" data-options="fit: true"></input>-->

						<select  class="form-control" id="role" name="role"
								 placeholder="请选择角色" value="${model.role!''}">
							<option  value='0'> 普通用户</option>
							<option  value='1'> 安装用户</option>
                            <option  value='2'> 运营商</option>
						</select>

					</div>
				</td>

			</tr>
		</table>
	</form>
</div>
<script>
top.window.subPage.save = save;
function save() {
	if($("#zcurdHeadTable").form('validate')) {
		$.post("editRoleUpdate", getParam(), function(data) {
			top.window.closeWindow();
			top.window.subPage.loadCurrDatagrid();
		});
	}
}
function getParam() {
	var param = {
	    "id": ${model.id}, 
       	    "model.openId": getInputValue("openId"), 
       	    "model.nickName": getInputValue("nickName"), 
       	    "model.headimgurl": getInputValue("headimgurl"), 
       	    "model.city": getInputValue("city"), 
       	    "model.province": getInputValue("province"), 
       	    "model.tel": getInputValue("tel"), 
       	    "model.registerDate": getInputValue("registerDate"), 
       	    "model.lastLoginDate": getInputValue("lastLoginDate"), 
       	    "model.cardNumber": getInputValue("cardNumber"), 
       	    "model.band": getInputValue("band"), 
       	    "model.role": getInputValue("role")
	}
	for(key in param) {
		if(!param[key]) {
			delete param[key];
		}
	}
	return param;
}

//扩展js
</script>
<#include "/common/foot.html"/>
