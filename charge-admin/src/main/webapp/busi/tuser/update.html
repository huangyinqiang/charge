 <#include "/common/head.html"/>


<div class="easyui-panel updatePage"
	data-options="fit:true,border:false">
	<form id="ff" class="easyui-form" method="post">
		<table class="table1">
			<tr>
				<th><span>昵称：</span></th>
				<td>
					<div class="wrap_input">
						<input class="easyui-textbox" type="text" name="nickName"
							id="nickName" value="${model.nickName!''}"
							data-options="fit: true,required:true"></input>
					</div>
				</td>

			</tr>
			<tr>
				<th><span>钱包：</span></th>
				<td>
					<div class="wrap_input">
						<input class="easyui-textbox" type="text"
							name="walletAccount" id="walletAccount"
							value="${model.walletAccount/100!''}" data-options="fit: true"></input>
					</div>
				</td>

			</tr>
		</table>
	</form>
</div>
<script>
top.window.subPage.save = save;
function save() {
	if($("#zcurdHeadTable").form('validate')) {
		$.post("update", getParam(), function(data) {
			top.window.closeWindow();
			top.window.subPage.loadCurrDatagrid();
		});
	}
}
function getParam() {
	var param = {
	    "id": ${model.id}, 
       	    "model.openId": getInputValue("openId"), 
       	    "model.nickName": getInputValue("nickName"), 
       	    "model.headimgurl": getInputValue("headimgurl"), 
       	    "model.city": getInputValue("city"), 
       	    "model.province": getInputValue("province"), 
       	    "model.tel": getInputValue("tel"), 
       	    "model.registerDate": getInputValue("registerDate"), 
       	    "model.lastLoginDate": getInputValue("lastLoginDate"), 
       	    "model.cardNumber": getInputValue("cardNumber"), 
       	    "model.band": getInputValue("band"), 
       	    "model.walletAccount": getInputValue("walletAccount")
	}
	for(key in param) {
		if(!param[key]) {
			delete param[key];
		}
	}
	return param;
}

//扩展js
</script>
<#include "/common/foot.html"/>
