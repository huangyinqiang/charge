 <#include "/common/head.html"/>


<div class="easyui-panel updatePage"
	data-options="fit:true,border:false">
	<form id="ff" class="easyui-form" method="post">
		<table class="table1">
			<tr>
				<th><span>昵称：</span></th>
				<td>
					<div class="wrap_input">
						<input disabled class="easyui-textbox" type="text" name="nickName"
							id="nickName" value="${model.nickName!''}"
							data-options="fit: true,required:true"></input>
					</div>
				</td>

			</tr>
			<tr>
				<th><span>公司：</span></th>
				<td>
					<div class="wrap_input">

                        <input id="company" name="company" data-options="panelHeight:'auto'"
                               class="easyui-combobox" style="width:80%">

					</div>
				</td>

			</tr>
		</table>
	</form>
</div>
<script>
top.window.subPage.save = save;
function save() {
	if($("#zcurdHeadTable").form('validate')) {
		$.post("../company/updateAdminId", getParam(), function(data) {
			top.window.closeWindow();
			top.window.subPage.loadCurrDatagrid();
		});
	}
}
$(function () {
    $.ajax({
        url : "../company/listData",
        type : "POST",
        success : function(res) {
            $('#company').combobox({
                data : res.rows,
                valueField : 'id',
                textField : 'company_name'
            });
        },
        error : function(error) {

        }
    })
})
function getParam() {

	var param = {
	    "id": $('#company').combobox('getValue'),
        "admin_id": ${model.id}
	}
	for(key in param) {
		if(!param[key]) {
			delete param[key];
		}
	}
	return param;
}

//扩展js
</script>
<#include "/common/foot.html"/>
