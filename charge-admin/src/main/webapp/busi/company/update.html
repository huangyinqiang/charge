 <#include "/common/head.html"/>

 <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css">
 <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
 <script type="text/javascript" src="${basePath}/res/distpicker/distpicker.data.js"></script>
 <script type="text/javascript" src="${basePath}/res/distpicker/distpicker.js"></script>
<div class="easyui-panel updatePage"
	data-options="fit:true,border:false">
	<form id="ff" class="easyui-form" method="post">

			<div class="form-group form-group-xs">
				<label class="col-sm-5 control-label" for="company_name">公司名称：</label>
				<div class="col-sm-5">
					<input class="form-control input-xs" type="text" id="company_name" name="company_name" value="${model.company_name!''}" >
				</div>
			</div>

			<div class="form-group form-group-xs">
				<label class="col-sm-5 control-label" for="company_name">纳税账号：</label>
				<div class="col-sm-5">
					<input class="form-control input-xs" type="text" id="taxpayer_id" name="taxpayer_id" value="${model.taxpayer_id!''}" >
				</div>
			</div>


			<div data-toggle="distpicker">
				<div class="form-group form-group--xs">
					<input type=text style="display:none" id="province" name="province">
					<label class="col-sm-5 control-label" for="province1">所在省：</label>
					<div class="col-sm-5">
						<select class="form-control" id="province1"  data-province="${model.province!''}"></select>
					</div>
				</div>
				<div class="form-group form-group--xs">
					<input type=text style="display:none" id="city" name="city" >
					<label class="col-sm-5 control-label" for="city1">所在市：</label>
					<div class="col-sm-5">
						<select class="form-control" id="city1" data-city="${model.city!''}"></select>
					</div>
				</div>
			</div>

			<div class="form-group form-group-xs">
				<label class="col-sm-5 control-label" for="detail_location">详细位置：</label>
				<div class="col-sm-5">
					<input class="form-control input-xs" type="text" id="detail_location" name="detail_location" value="${model.detail_location!''}" >
				</div>
			</div>

			<div class="form-group form-group-xs">
				<label class="col-sm-5 control-label" for="legal_person">法人：</label>
				<div class="col-sm-5">
					<input class="form-control input-xs" type="text" id="legal_person" name="legal_person" value="${model.legal_person!''}" >
				</div>
			</div>

			<div class="form-group form-group-xs">
				<label class="col-sm-5 control-label" for="weixin_account">微信收款账号：</label>
				<div class="col-sm-5">
					<input class="form-control input-xs" type="text" id="weixin_account" name="weixin_account" value="${model.weixin_account!''}" >
				</div>
			</div>

			<div class="form-group form-group-xs">
				<label class="col-sm-5 control-label" for="admin_id">管理者：</label>
				<div class="col-sm-5">
					<input class="form-control input-xs" type="text" id="admin_id" name="admin_id" value="${model.admin_id!''}" >
				</div>
			</div>

			<div class="form-group form-group-xs">
				<label class="col-sm-5 control-label" for="balance_rate">结算比例：</label>
				<div class="col-sm-5">
					<input class="form-control input-xs" type="text" id="balance_rate" name="balance_rate" value="${model.balance_rate!''}" >
				</div>
			</div>

			<div class="form-group form-group-xs">
				<label class="col-sm-5 control-label" for="balance_type">结算类型：</label>
				<div class="col-sm-5">
					<input class="form-control input-xs" type="text" id="balance_type" name="balance_type" value="${model.balance_type!''}" >
				</div>
			</div>

			<div class="form-group form-group-xs">
				<label class="col-sm-5 control-label" for="contact">联系人：</label>
				<div class="col-sm-5">
					<input class="form-control input-xs" type="text" id="contact" name="contact" value="${model.contact!''}" >
				</div>
			</div>

			<div class="form-group form-group-xs">
				<label class="col-sm-5 control-label" for="contact_phone">联系电话：</label>
				<div class="col-sm-5">
					<input class="form-control input-xs" type="text" id="contact_phone" name="contact_phone" value="${model.contact_phone!''}" >
				</div>
			</div>

	</form>
</div>
<script>
top.window.subPage.save = save;
function save() {
	if($("#zcurdHeadTable").form('validate')) {
		$.post("update", getParam(), function(data) {
			top.window.closeWindow();
			top.window.subPage.loadCurrDatagrid();
		});
	}
}
function getParam() {

	var param = {
        "id": ${model.id},
        "model.company_name": $(":input[name='company_name']").val(),
        "model.taxpayer_id": $(":input[name='taxpayer_id']").val(),
        "model.province": $("#province1  option:selected").text(),
        "model.city":  $("#city1  option:selected").text(),
        "model.detail_location": $(":input[name='detail_location']").val(),
        "model.legal_person": $(":input[name='legal_person']").val(),
        "model.weixin_account": $(":input[name='weixin_account']").val(),
        "model.admin_id": $(":input[name='admin_id']").val(),
        "model.balance_rate": $(":input[name='balance_rate']").val(),
        "model.balance_type": $(":input[name='balance_type']").val(),
        "model.contact": $(":input[name='contact']").val(),
        "model.contact_phone": $(":input[name='contact_phone']").val()
    }
	for(key in param) {
		if(!param[key]) {
			delete param[key];
		}
	}
	return param;
}

//扩展js
</script>
<#include "/common/foot.html"/>
